(this.webpackJsonpmovielist=this.webpackJsonpmovielist||[]).push([[0],{21:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(22),i=c.n(n),l=(c(28),c(29),c(9)),r=c(2),d=c(8),j=(c(30),c(11)),o=c(0),h=function(){Object(a.useRef)();var e=Object(a.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1];return Object(o.jsx)("header",{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"inner-conntent",children:[Object(o.jsx)("div",{className:"brand",children:Object(o.jsx)(l.b,{onClick:function(){return s(!c)},to:"/",children:"WatchWatched"})}),Object(o.jsx)("nav",{className:"nav",id:c?"hidden":"",children:Object(o.jsx)("div",{className:"link",children:Object(o.jsxs)("ul",{className:"dropdown-menu",children:[Object(o.jsx)("li",{className:"float",onClick:function(){return s(!c)},children:Object(o.jsx)(j.b,{})}),Object(o.jsx)("li",{className:"li2",children:Object(o.jsx)(l.b,{to:"/watchlist",children:"WatchList"})}),Object(o.jsx)("li",{className:"li3",children:Object(o.jsx)(l.b,{to:"/watched",children:"Watched"})}),Object(o.jsx)("li",{className:"li4",children:Object(o.jsx)(l.b,{to:"/",className:"btn",children:"+ Add"})})]})})})]})})})},b=c(15),O=c(7),u=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCH_LIST":return Object(O.a)(Object(O.a)({},e),{},{watchlist:[t.payload].concat(Object(b.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(O.a)(Object(O.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(O.a)(Object(O.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload})),watched:[t.payload].concat(Object(b.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(O.a)(Object(O.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(b.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(O.a)(Object(O.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},m={watchlist:[],watched:[]},x=Object(a.createContext)(m),v=function(e){var t=Object(a.useReducer)(u,m),c=Object(d.a)(t,2),s=c[0],n=c[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.watchlist)),localStorage.setItem("watched",JSON.stringify(s.watched))}),[s]);return Object(o.jsx)(x.Provider,{value:{watchlist:s.watchlist,watched:s.watched,addMovieToWatchlist:function(e){n({type:"ADD_MOVIE_TO_WATCH_LIST",payload:e})},removeMovieFromWatchlist:function(e){n({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){n({type:"ADD_MOVIE_TO_WATCHED",payload:e})},movieToWatchlist:function(e){n({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){n({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},f=function(e){var t=e.movie,c=e.type,s=Object(a.useContext)(x),n=s.addMovieToWatched,i=s.removeMovieFromWatchlist,l=s.movieToWatchlist,r=s.removeFromWatched,d=!!s.watched.find((function(e){return e.id===t.id}));return Object(o.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===c&&Object(o.jsxs)("main",{children:[Object(o.jsx)("button",{className:"ctrl-btn",disabled:d,onClick:function(){return n(t)},children:Object(o.jsx)(j.a,{className:"eye"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(t.id)},children:Object(o.jsx)(j.b,{className:"x"})})]}),"watched"===c&&Object(o.jsxs)("main",{children:[Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(t)},children:Object(o.jsx)(j.a,{className:"eye"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(t.id)},children:Object(o.jsx)(j.b,{className:"x"})})]})]})},p=function(e){var t=e.movie,c=e.type;return Object(o.jsxs)("div",{className:"movie-card",children:[Object(o.jsx)("div",{className:"overlay"}),t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(o.jsx)("div",{className:"filter-poster"}),Object(o.jsx)(f,{type:c,movie:t})]})},N=(c(21),function(){var e=Object(a.useContext)(x).watchlist;return Object(o.jsx)("div",{className:"movie-page",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{children:"My Watchlist"}),Object(o.jsx)("div",{className:"title-watchlist"})]}),e.length>0?Object(o.jsx)("div",{className:"movie-grid",children:e.map((function(e,t){return Object(o.jsx)(p,{movie:e,type:"watchlist"},t)}))}):Object(o.jsx)("h4",{className:"no-movies",children:"No movies in your list, add some!"})]})})}),w=function(){var e=Object(a.useContext)(x).watched;return Object(o.jsx)("div",{className:"movie-page",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{children:"Watched movies "}),Object(o.jsx)("div",{className:"title-watched"})]}),e.length>0?Object(o.jsx)("div",{className:"movie-grid",children:e.map((function(e,t){return Object(o.jsx)(p,{movie:e,type:"watched"},t)}))}):Object(o.jsx)("h4",{className:"no-movies",children:"No movies in your list, add some!"})]})})},y=function(e){var t=e.movie,c=Object(a.useContext)(x),s=c.addMovieToWatchlist,n=!!c.watchlist.find((function(e){return e.id===t.id}));return Object(o.jsxs)("div",{className:"result-card",children:[Object(o.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(o.jsx)("div",{className:"filter-poster"})}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h3",{className:"title",children:t.title}),Object(o.jsx)("h4",{className:"relase-date",children:t.release_date})]}),Object(o.jsx)("div",{className:"controls",children:Object(o.jsx)("button",{className:"btn",disabled:n,onClick:function(){return s(t)},children:"Add to Watchlist"})})]})]})},_=(c(37),function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),i=Object(d.a)(n,2),l=i[0],r=i[1];return Object(o.jsx)("div",{className:"add-page",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"add-content",children:[Object(o.jsx)("div",{className:"input-wrapper",children:Object(o.jsx)("input",{type:"text",placeholder:"Search for a movie",value:c,onChange:function(e){e.preventDefault(),s(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=f55ef2a80d4ef73f63457dd73185229e&language=en-US&page=1&include_adult=false&query=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?r([]):(r(e.results),console.log(e.results))}))}})}),l.length>0&&Object(o.jsx)("ul",{className:"results",children:l.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(y,{movie:e})},e.id)}))})]})})})});c(38);var g=function(){return Object(o.jsx)(v,{children:Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(l.a,{children:[Object(o.jsx)(h,{}),Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{path:"/watchlist",children:Object(o.jsx)(N,{})}),Object(o.jsx)(r.a,{path:"/watched",children:Object(o.jsx)(w,{})}),Object(o.jsx)(r.a,{exact:!0,path:"/",children:Object(o.jsx)(_,{})})]})]})})})},T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,40)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(g,{})}),document.getElementById("root")),T()}},[[39,1,2]]]);
//# sourceMappingURL=main.eba4f75a.chunk.js.map